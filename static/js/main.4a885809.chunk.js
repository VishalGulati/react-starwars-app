(this["webpackJsonpreact-starwars-app"]=this["webpackJsonpreact-starwars-app"]||[]).push([[0],{127:function(e,t,r){e.exports=r(214)},137:function(e,t,r){},138:function(e,t,r){},211:function(e,t,r){},213:function(e,t,r){},214:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),c=r(13),o=r.n(c),s=r(28),i=r(29),l=r(32),u=r(30),p=r(33),m=r(96),h=r(54),f=r(16),d=r.n(f),g=r(23),b=r(126),v=r(24),w=r(122),O=r.n(w),E=r(73),j="LOGIN",y="LOGIN_SUCCESS",k="LOGIN_FAIL",C=function(e){var t=e.username,r=e.password;return new Promise((function(e,n){t.toLowerCase().indexOf("luke")>=0&&"19bby"===r.toLowerCase()?e({status:200,data:"authenticated"}):n({status:400,error:{code:400,message:"user not found!"}})}))},N=function(e){return t="".concat("https://swapi.co/api").concat("/planets/","?search=").concat(e),fetch(t,r).then((function(e){return e.status>=200&&e.status<300?e.json().then((function(e){return{payload:e}})).catch((function(e){return{error:e}})):e.text().then((function(e){return{error:e}}))})).then((function(e){if(e.payload&&!e.error)return e.payload;var t={message:e.error,code:"000"};throw new Error(JSON.stringify(t))})).catch((function(e){var t={message:e.message,code:"000"};throw new Error(JSON.stringify(t))}));var t,r};function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(r,!0).forEach((function(t){Object(E.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var L=d.a.mark(W),P=d.a.mark(_),D={isLoading:!1,data:null,error:null},R=function(e){var t=e.username,r=e.password;return{type:j,username:t,password:r}},A=function(e){return{type:y,data:e}},I=function(e){return{type:k,error:e}};function W(e){var t,r,n,a,c;return d.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,t=e.username,r=e.password,o.next=4,Object(v.b)(C,{username:t,password:r});case 4:return n=o.sent,o.next=7,Object(v.c)(A(n));case 7:o.next=15;break;case 9:return o.prev=9,o.t0=o.catch(0),a=o.t0.code,c=o.t0.message,o.next=15,Object(v.c)(I({code:a,message:c}));case 15:case"end":return o.stop()}}),L,null,[[0,9]])}function _(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)(j,W);case 2:case"end":return e.stop()}}),P)}var U="SEARCH",F="SEARCH_SUCCESS",G="SEARCH_FAIL";function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(r,!0).forEach((function(t){Object(E.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var H=d.a.mark(K),B=d.a.mark(M),V={isLoading:!1,searchResults:null,error:null},z=function(e){return{type:U,searchTerm:e}},$=function(e){return{type:F,data:e}},q=function(e){return{type:G,error:e}};function K(e){var t,r,n,a;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=e.searchTerm,c.next=4,Object(v.b)(N,t);case 4:return r=c.sent,c.next=7,Object(v.c)($(r.results));case 7:c.next=15;break;case 9:return c.prev=9,c.t0=c.catch(0),n=c.t0.code,a=c.t0.message,c.next=15,Object(v.c)(q({code:n,message:a}));case 15:case"end":return c.stop()}}),H,null,[[0,9]])}function M(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)(U,K);case 2:case"end":return e.stop()}}),B)}var Q=Object(b.a)(),X=Object(g.c)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return x({},e,{isLoading:!0});case y:return x({},e,{isLoading:!1,data:t.data});case k:return x({},e,{isLoading:!1,error:t.error});default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return T({},e,{isLoading:!0});case F:return T({},e,{isLoading:!1,searchResults:t.data});case G:return T({},e,{isLoading:!1,error:t.error});default:return e}}}),Y=[];Y.push(O.a),Y.push(Q);var Z=Object(g.e)(X,g.a.apply(void 0,Y));Q.run(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.a)([_(),M()]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));var ee=Z,te=(r(137),"login"),re="searchDetails",ne=function(e){function t(){var e,r;Object(s.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).logout=function(){window.location.href="/".concat(te)},r}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return a.a.createElement("header",{className:"app-header"},a.a.createElement("span",null,"Star Wars"),a.a.createElement("div",{className:"pull-right app-header__logout"},a.a.createElement("span",{onClick:this.logout},"Logout")))}}]),t}(n.Component),ae=(r(138),function(){return a.a.createElement("footer",{className:"app-footer"},"Designed and Coded by Vishal Gulati (",a.a.createElement("a",{id:"footer-link",target:"_blank",rel:"noopener noreferrer",href:"https://www.vishalgulati.com"},"www.vishalgulati.com"),")")}),ce=r(42),oe=r(15),se=function(e){function t(e){var r;return Object(s.a)(this,t),(r=Object(l.a)(this,Object(u.a)(t).call(this,e))).getValidationState=function(){var e=r.state,t=e.username,n=e.password;return t&&n?"success":"error"},r.handleUsernameChange=function(e){r.setState({username:e.target.value})},r.handlePasswordChange=function(e){r.setState({password:e.target.value})},r.userLogin=function(e){var t=r.state,n=t.username,a=t.password;r.props.loginAction({username:n,password:a}),e.preventDefault()},r.state={username:"",password:""},r}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){if(e.login!==this.props.login){var t=e.login,r=t.isLoading,n=t.error;r||n||this.props.history.push("/".concat("search"))}}},{key:"render",value:function(){return a.a.createElement("div",{className:"login container"},a.a.createElement("h1",{className:"text-center",style:{marginTop:"10px"}}," Login "),a.a.createElement("form",{className:"form-horizontal"},a.a.createElement("div",{className:"form-group"},a.a.createElement("label",{className:"control-label col-sm-2",htmlFor:"email"},"Email:"),a.a.createElement("div",{className:"col-sm-10"},a.a.createElement("input",{type:"email",className:"form-control",id:"email",placeholder:"Enter email",name:"email",onChange:this.handleUsernameChange}))),a.a.createElement("div",{className:"form-group"},a.a.createElement("label",{className:"control-label col-sm-2",htmlFor:"pwd"},"Password:"),a.a.createElement(oe.b,{sm:10},a.a.createElement("input",{type:"password",className:"form-control",id:"pwd",placeholder:"Enter password",name:"pwd",onChange:this.handlePasswordChange}))),a.a.createElement("div",{className:"form-group"},a.a.createElement(oe.b,{smOffset:2,sm:10},a.a.createElement(oe.a,{bsStyle:"primary",type:"submit",onClick:this.userLogin},"Login")))))}}]),t}(n.Component),ie=Object(h.b)((function(e){return{login:e.login}}),(function(e){return Object(g.b)({loginAction:R},e)}))(se),le=r(124),ue=function(e){function t(e){var r;return Object(s.a)(this,t),(r=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleSearch=function(){var e=Object(le.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.props.searchAction(t.target.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.showSearchDetails=function(e){r.props.history.push({pathname:"/".concat(re),params:e})},r.state={searchTerm:"",searchResult:[]},r}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){if(e.search!==this.props.search){var t=e.search;t.isLoading,t.error}}},{key:"render",value:function(){var e=this,t=[];return this.props.searchResults&&(t=this.props.searchResults.map((function(t,r){return a.a.createElement(oe.i,{onClick:function(){return e.showSearchDetails(t)},key:r},a.a.createElement("span",null,t.name),a.a.createElement("span",{className:"pull-right"},a.a.createElement(oe.f,{glyph:"user"})," ",t.population))}))),a.a.createElement("div",{className:"search"},a.a.createElement(oe.j,{className:"text-center"},"Search"),a.a.createElement(oe.c,null,a.a.createElement(oe.e,{controlId:"formUsername"},a.a.createElement(oe.b,{sm:12},a.a.createElement(oe.g,null,a.a.createElement(oe.d,{type:"text",placeholder:"Enter search here ...",autoComplete:"off",onChange:this.handleSearch}),a.a.createElement(oe.g.Addon,null,a.a.createElement(oe.f,{glyph:"search"})))))),t.length>0&&a.a.createElement(oe.b,{sm:12},a.a.createElement(oe.h,null,t)))}}]),t}(n.Component),pe=Object(h.b)((function(e){return{searchResults:e.search.searchResults}}),(function(e){return Object(g.b)({searchAction:z},e)}))(ue),me=(r(211),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=[];if(this.props.location.params){var t=this.props.location.params;e=Object.keys(t).map((function(e,r){return a.a.createElement("tr",{key:r},a.a.createElement("td",null,e),a.a.createElement("td",null,t[e]))}))}return a.a.createElement("div",null,a.a.createElement("h1",null,"Search Details"),a.a.createElement(oe.k,{striped:!0,bordered:!0,condensed:!0,hover:!0,className:"search-details"},a.a.createElement("tbody",null,e)))}}]),t}(n.Component)),he=[{path:"/",component:ie},{path:"/".concat("search"),component:pe},{path:"/".concat(re),component:me}],fe=function(e){return a.a.createElement(ce.a,{path:e.path,render:function(t){return a.a.createElement(e.component,Object.assign({},t,{routes:e.routes}))}})},de=function(){return a.a.createElement("main",null,he.map((function(e,t){return a.a.createElement(fe,Object.assign({key:t},e))})))},ge=(r(213),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return a.a.createElement(m.a,null,a.a.createElement(h.a,{store:ee},a.a.createElement("div",{className:"app"},a.a.createElement(ne,null),a.a.createElement(de,null),a.a.createElement(ae,null))))}}]),t}(n.Component)),be=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ve(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(a.a.createElement(ge,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/react-starwars-app",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/react-starwars-app","/service-worker.js");be?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ve(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):ve(e)}))}}()}},[[127,1,2]]]);
//# sourceMappingURL=main.4a885809.chunk.js.map